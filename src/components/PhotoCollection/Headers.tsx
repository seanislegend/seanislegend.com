import {Suspense} from 'react';
import Markdown from '@/components/Markdown';
import PageHeader from '@/components/PageHeader';
import BackToCollectionButton from '@/components/PageHeader/BackToCollectionButton';
import Container from '@/components/UI/Container';

interface Props {
    collection: PhotoCollection;
    ctas?: {label: string; url: string}[];
}

const DefaultHeader: React.FC<React.PropsWithChildren<Props>> = ({children, collection, ctas}) => (
    <PageHeader
        {...collection}
        backUrl={`/${collection.slug}`}
        ctas={(ctas?.filter(Boolean) as {label: string; url: string}[]) ?? []}
        description={collection?.showDescription ? collection.description : null}
        titleAside={
            <div className="hidden grow flex-col justify-end md:flex" key={collection.slug}>
                <Suspense>
                    <BackToCollectionButton />
                </Suspense>
            </div>
        }
    >
        {children}
    </PageHeader>
);

const GreenHopHeader: React.FC<React.PropsWithChildren<Props>> = ({collection}) => {
    const title1 = collection.pageTitle?.split(':')[0];
    const title2 = collection.pageTitle?.split(':')[1];

    return (
        <Container
            className="animate-in fade-in slide-in-from-bottom-2 pt-6 pb-10 duration-500 sm:py-12 xl:py-20"
            data-slot="page-header"
        >
            <h1 className="text-title-text overflow-hidden leading-none uppercase underline-offset-4 group-hover:underline sm:whitespace-nowrap">
                <svg
                    aria-hidden="true"
                    className="h-auto w-full text-white"
                    fill="none"
                    viewBox="0 0 624 39"
                >
                    <title>{title1}</title>
                    <path
                        fill="currentColor"
                        d="M0 .832h26.988v8.164H10.192v6.656h15.86v8.112h-15.86v13.988H0zM48.53.832c7.54 0 13.727 3.744 13.727 11.024 0 4.888-2.496 7.904-6.916 9.1 4.108.416 6.136 2.34 6.396 6.396l.832 10.4H52.325l-.572-8.528c-.208-3.068-1.612-4.056-5.2-4.056h-5.46v12.584H30.901V.832zm-7.437 16.172h5.564c3.38 0 5.2-1.404 5.2-3.952 0-2.652-1.82-4.056-5.2-4.056h-5.564zM83.537 38.584c-11.7 0-18.72-7.384-18.72-19.24C64.817 7.384 71.837 0 83.537 0s18.668 7.384 18.668 19.344c0 11.856-6.968 19.24-18.668 19.24m-8.164-19.24c0 7.02 2.964 11.076 8.164 11.076 5.252 0 8.216-4.056 8.216-11.076 0-7.072-2.964-11.18-8.216-11.18-5.2 0-8.164 4.108-8.164 11.18M105.349.832h13.416l7.8 23.452L134.261.832h13.52v36.92h-10.244V16.224l-7.384 21.372h-7.228l-7.384-21.372v21.528h-10.192zM163.292 37.752V.832h10.192V15.08h10.972V.832h10.192v36.92h-10.192V23.244h-10.972v14.508zM198.213 37.752 211.525.832h11.596l13.312 36.92h-10.4l-2.08-6.084h-13.312l-2.08 6.084zm15.132-13.988h7.956l-3.952-11.7zM256.739.832c7.54 0 13.728 3.744 13.728 11.024 0 4.888-2.496 7.904-6.916 9.1 4.108.416 6.136 2.34 6.396 6.396l.832 10.4h-10.244l-.572-8.528c-.208-3.068-1.612-4.056-5.2-4.056h-5.46v12.584h-10.192V.832zm-7.436 16.172h5.564c3.38 0 5.2-1.404 5.2-3.952 0-2.652-1.82-4.056-5.2-4.056h-5.564zM271.797.832h10.349l8.788 25.376L299.617.832h10.348l-13.311 36.92h-11.493zM312.847.832h27.352v8.164h-17.16v6.188h16.536v8.112h-16.536v6.292h17.576v8.164h-27.768zM354.02 24.908c.52 3.276 2.86 5.356 6.708 5.356 2.704 0 4.576-1.092 4.524-3.12-.104-2.028-1.768-3.068-6.448-4.16-9.36-2.184-14.248-5.616-14.248-11.544 0-7.02 6.032-11.44 15.288-11.44 8.476 0 14.352 5.148 15.236 13l-10.036.416c-.26-3.38-2.34-5.408-5.46-5.408-2.964 0-4.94 1.456-4.68 3.64.156 2.184 2.704 3.068 6.188 3.848 9.256 1.768 14.456 5.46 14.456 11.492 0 7.124-6.136 11.388-14.976 11.388-9.62 0-16.172-4.992-16.692-13zM409.124.832v8.164H398.36v28.756h-10.244V8.996h-10.764V.832zM452.899.832v8.164h-10.764v28.756h-10.244V8.996h-10.764V.832zM472.838 38.584c-11.7 0-18.72-7.384-18.72-19.24 0-11.96 7.02-19.344 18.72-19.344s18.668 7.384 18.668 19.344c0 11.856-6.968 19.24-18.668 19.24m-8.164-19.24c0 7.02 2.964 11.076 8.164 11.076 5.252 0 8.216-4.056 8.216-11.076 0-7.072-2.964-11.18-8.216-11.18-5.2 0-8.164 4.108-8.164 11.18M521.402.832c9.256 0 14.924 4.836 14.924 12.636 0 7.748-5.668 12.584-14.924 12.584h-5.616v11.7h-10.192V.832zm-5.616 17.056h4.836c3.172 0 5.304-1.508 5.304-4.42s-2.08-4.472-5.304-4.472h-4.836zM540.203.832h10.192v36.92h-10.192zM555.819.832h10.348l12.22 21.06V.832h10.244v36.92h-10.66l-11.96-20.02v20.02h-10.192zM623.632.832v8.164h-10.764v28.756h-10.244V8.996H591.86V.832z"
                    />
                </svg>
                <span className="mt-4 flex items-baseline justify-between sm:mt-8">
                    <svg
                        aria-hidden="true"
                        className="h-auto w-7/12 text-white"
                        fill="none"
                        viewBox="0 0 381 21"
                    >
                        <title>{title2}</title>
                        <path
                            fill="currentColor"
                            d="M0 20.328V.448h7.112c5.18 0 7.756 1.764 7.756 5.516 0 2.324-1.456 3.836-3.976 4.088 3.08.252 4.816 1.932 4.816 4.648 0 3.668-2.604 5.628-7.476 5.628zm3.64-3.08h4.648c2.268 0 3.696-.952 3.696-2.8 0-1.82-1.4-2.8-3.696-2.8H3.64zm0-8.456h3.696c2.38 0 3.808-.896 3.808-2.604 0-1.792-1.344-2.66-3.808-2.66H3.64zM27.225.448c4.116 0 7.028 2.212 7.028 5.992 0 2.436-1.512 4.144-3.472 4.704 2.044.308 2.94 1.344 3.136 3.444l.504 5.74h-3.668l-.42-5.208c-.14-1.736-1.176-2.296-3.696-2.296h-4.088v7.504h-3.64V.448zm-4.676 9.184h4.284c2.352 0 3.668-1.036 3.668-2.968 0-1.96-1.316-3.052-3.668-3.052h-4.284zM37.27.448h13.385v3.164H40.91v5.18h9.408v3.136H40.91v5.236h9.968v3.164H37.27zM52.642.448h3.836l3.668 14.84 3.64-14.84h3.388l3.696 14.84L74.482.448h3.836l-5.32 19.88h-4.032L65.494 7l-3.5 13.328H57.99zM80.666.448h3.64v19.88h-3.64zM88.227.448h4.256l8.456 14.756V.448h3.668v19.88h-4.396L91.867 5.964v14.364h-3.64zM125.275 20.328h-2.324l-.224-3.024c-.896 2.1-3.276 3.472-5.992 3.472-5.656 0-9.24-4.508-9.24-10.36 0-5.88 3.556-10.416 9.408-10.416 4.424 0 7.392 2.632 8.288 6.832l-3.78.196c-.588-2.408-2.128-3.864-4.564-3.864-3.864 0-5.572 3.22-5.572 7.252 0 4.004 1.736 7.196 5.572 7.196 2.856 0 4.48-1.96 4.788-4.648h-4.816V10.08h8.456zM132.748.448h3.836l3.668 14.84 3.64-14.84h3.388l3.696 14.84 3.612-14.84h3.836l-5.32 19.88h-4.032L145.6 7l-3.5 13.328h-4.004zM160.773.448h3.64v19.88h-3.64zM182.558.448v3.164h-6.048v16.716h-3.64V3.612h-6.02V.448zM184.973 20.328V.448h3.64v8.288h8.204V.448h3.64v19.88h-3.64V11.9h-8.204v8.428zM227.175 20.328h-2.324l-.224-3.024c-.896 2.1-3.276 3.472-5.992 3.472-5.656 0-9.24-4.508-9.24-10.36 0-5.88 3.556-10.416 9.408-10.416 4.424 0 7.392 2.632 8.288 6.832l-3.78.196c-.588-2.408-2.128-3.864-4.564-3.864-3.864 0-5.572 3.22-5.572 7.252 0 4.004 1.736 7.196 5.572 7.196 2.856 0 4.48-1.96 4.788-4.648h-4.816V10.08h8.456zM238.503.448c4.116 0 7.028 2.212 7.028 5.992 0 2.436-1.512 4.144-3.472 4.704 2.044.308 2.94 1.344 3.136 3.444l.504 5.74h-3.668l-.42-5.208c-.14-1.736-1.176-2.296-3.696-2.296h-4.088v7.504h-3.64V.448zm-4.676 9.184h4.284c2.352 0 3.668-1.036 3.668-2.968 0-1.96-1.316-3.052-3.668-3.052h-4.284zM248.549.448h13.384v3.164h-9.744v5.18h9.408v3.136h-9.408v5.236h9.968v3.164h-13.608zM265.216.448H278.6v3.164h-9.744v5.18h9.408v3.136h-9.408v5.236h9.968v3.164h-13.608zM281.691.448h4.256l8.456 14.756V.448h3.668v19.88h-4.396l-8.344-14.364v14.364h-3.64zM308.051 20.328V.448h3.64v8.288h8.204V.448h3.64v19.88h-3.64V11.9h-8.204v8.428zM335.608 20.776c-5.908 0-9.492-3.948-9.492-10.36C326.116 3.948 329.7 0 335.608 0c5.936 0 9.464 3.948 9.464 10.416 0 6.412-3.528 10.36-9.464 10.36m-5.684-10.36c0 4.48 2.1 7.196 5.684 7.196s5.712-2.716 5.712-7.196c0-4.536-2.128-7.252-5.712-7.252s-5.684 2.716-5.684 7.252M355.319.448c4.648 0 7.42 2.38 7.42 6.328 0 3.976-2.772 6.384-7.42 6.384h-4.06v7.168h-3.64V.448zm-4.06 9.548h3.892c2.464 0 3.836-1.092 3.836-3.22 0-2.072-1.344-3.164-3.836-3.164h-3.892zM368.593 13.636c.42 2.324 2.072 3.864 4.788 3.864 2.1 0 3.528-.84 3.528-2.464-.028-1.652-1.428-2.604-4.816-3.444-3.976-.952-6.776-2.66-6.776-5.852 0-3.528 2.912-5.74 7.168-5.74 4.396 0 7.364 2.716 7.784 6.608l-3.668.168c-.28-2.212-1.848-3.64-4.172-3.64-2.016 0-3.444 1.036-3.388 2.66.028 1.904 2.324 2.492 4.592 3.08 4.144.98 7 2.856 7 5.964 0 3.752-3.332 5.824-7.42 5.824-4.676 0-7.98-2.66-8.316-6.804z"
                        />
                    </svg>
                    <span className="sm:text-md ml-2 text-sm opacity-50 lg:text-lg">
                        Autumn 2025
                    </span>
                </span>
            </h1>
            {collection.description && (
                <Markdown className="prose-p:!text-lg mt-12 max-w-4xl text-pretty 2xl:max-w-6xl">
                    {collection.description}
                </Markdown>
            )}
        </Container>
    );
};

const photoCollectionHeaders: Record<string, React.FC<React.PropsWithChildren<Props>>> = {
    default: DefaultHeader,
    greenHop: GreenHopHeader
};

export default photoCollectionHeaders;
